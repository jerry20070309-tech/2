<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>âš¡ SNIPER V12.4 | FULL RECOVERY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&display=swap');
        body { background: #050505; color: #FFD700; font-family: 'JetBrains Mono', monospace; overflow: hidden; }
        .card { background: #081221; border: 2px solid #1e3a8a; transition: 0.2s; position: relative; cursor: pointer; border-radius: 12px; }
        .hunt-card { border: 2px solid #ff0000; background: #2a0000 !important; box-shadow: 0 0 15px rgba(255, 0, 0, 0.3); }
        .entry-ready { border: 2px solid #22c55e !important; box-shadow: 0 0 15px rgba(34, 197, 94, 0.4); }
        .tag-base { background: #1a1a1a; color: #444; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: 800; }
        .tag-base.on { background: #22c55e; color: #000; }
        .tag-v2 { border: 1px solid #FFD700; color: #FFD700; padding: 1px 6px; border-radius: 4px; font-size: 10px; font-weight: 800; }
        .status-led { font-size: 11px; font-weight: 900; color: #222; margin-right: 8px; }
        .status-led.active { color: #22c55e; }
        .tsl-mode-tag { background: #7f1d1d; color: #f87171; padding: 1px 8px; border-radius: 999px; font-size: 9px; font-weight: 900; }
        .waiting-box { border: 1px dashed #333; color: #555; background: rgba(0,0,0,0.2); }
        /* åƒæ•¸æŒ‰éˆ•æ¨£å¼ */
        .btn-preset { background: #1a1a1a; border: 1px solid #333; color: #888; padding: 2px 10px; border-radius: 4px; font-size: 10px; font-weight: bold; transition: 0.2s; }
        .btn-preset:hover { border-color: #FFD700; color: #FFD700; }
    </style>
</head>
<body class="h-screen flex flex-col text-[10px]">

    <header class="p-3 border-b border-yellow-900 bg-black flex justify-between items-center shrink-0">
        <div class="flex items-center gap-4">
            <h1 class="text-2xl font-black text-yellow-500 italic">âš¡ SNIPER V12.4</h1>
            <div class="flex gap-2 bg-zinc-900 p-1 rounded border border-zinc-700">
                <input id="searchInput" type="text" placeholder="æœå°‹å¹£å" class="bg-transparent text-xs px-2 focus:outline-none w-24 text-white uppercase">
                <button onclick="manualAdd()" class="bg-yellow-600 text-black px-2 py-0.5 font-bold rounded">ADD</button>
            </div>
            <div class="flex gap-2 ml-4">
                <button onclick="applyPreset('Ambush')" class="btn-preset">é€±æœ«åŸ‹ä¼</button>
                <button onclick="applyPreset('Hunt')" class="btn-preset">å¼·å‹¢çµæ®º</button>
                <button onclick="applyPreset('Spike')" class="btn-preset">ç•°å‹•ç›£æ§</button>
            </div>
        </div>
        <div class="flex gap-4">
            <div id="klineStatus" class="bg-zinc-800 px-3 py-1 rounded text-white border border-zinc-700">ç­‰å¾…å°é½Š...</div>
            <button id="sysBtn" onclick="toggleSystem()" class="bg-blue-600 text-white px-8 py-1 rounded font-black">START RADAR</button>
        </div>
    </header>

    <div class="bg-zinc-950 p-3 border-b border-yellow-900/30 grid grid-cols-5 gap-6 uppercase font-bold text-zinc-500">
        <div class="space-y-1">
            <div class="flex justify-between text-yellow-500"><span>ğŸŒ€ SQZ</span><span id="v_sqz">1.2%</span></div>
            <input type="range" id="i_sqz" min="5" max="50" value="12" class="w-full accent-yellow-500">
        </div>
        <div class="space-y-1">
            <div class="flex justify-between text-green-500"><span>ğŸ¯ POC</span><span id="v_poc">1.1%</span></div>
            <input type="range" id="i_poc" min="1" max="100" value="11" class="w-full accent-green-500">
        </div>
        <div class="space-y-1">
            <div class="flex justify-between text-red-500"><span>ğŸš¨ SLP</span><span id="v_slp">-0.5%</span></div>
            <input type="range" id="i_slp" min="1" max="100" value="50" class="w-full accent-red-500">
        </div>
        <div class="space-y-1">
            <div class="flex justify-between text-blue-500"><span>ğŸš€ DRV</span><span id="v_drv">90</span></div>
            <input type="range" id="i_drv" min="10" max="150" value="90" class="w-full accent-blue-500">
        </div>
        <div class="space-y-1">
            <div class="flex justify-between text-orange-500"><span>âš¡ MOM</span><span id="v_mom">0.8%</span></div>
            <input type="range" id="i_mom" min="1" max="50" value="8" class="w-full accent-orange-500">
        </div>
    </div>

    <div class="flex flex-1 overflow-hidden">
        <main class="flex-1 p-4 overflow-y-auto bg-black">
            <div id="dashboard" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>
        </main>
        <aside class="w-80 border-l border-zinc-900 bg-black flex flex-col">
            <div class="p-3 border-b border-zinc-900 text-red-500 font-black flex justify-between items-center">
                <span>æˆ°é¬¥æ—¥èªŒ (V12.4 FULL)</span>
                <span id="timerDisplay" class="text-zinc-700 text-[9px]">OFFLINE</span>
            </div>
            <div class="flex-1 overflow-y-auto p-2 space-y-1" id="logContainer"></div>
        </aside>
    </div>

<script>
    // åƒæ•¸å¿«æ·åŠŸèƒ½
    function applyPreset(type) {
        const p = {
            'Ambush': { sqz:8, poc:5, slp:2, drv:110, mom:4 },
            'Hunt': { sqz:15, poc:12, slp:15, drv:85, mom:12 },
            'Spike': { sqz:25, poc:25, slp:30, drv:60, mom:25 }
        }[type];
        document.getElementById('i_sqz').value = p.sqz;
        document.getElementById('i_poc').value = p.poc;
        document.getElementById('i_slp').value = p.slp;
        document.getElementById('i_drv').value = p.drv;
        document.getElementById('i_mom').value = p.mom;
        // è§¸ç™¼æ‰€æœ‰ input äº‹ä»¶æ›´æ–°æ¿¾é¡
        document.querySelectorAll('input[type=range]').forEach(i => i.dispatchEvent(new Event('input')));
    }

    // é€™è£¡æ”¾å…¥ä½ åŸæœ¬çš„æ ¸å¿ƒè¨ˆç®— JSï¼Œç¢ºä¿ render() ä½¿ç”¨ä»¥ä¸‹çµæ§‹ï¼š
    // åº•éƒ¨çš„ç‡ˆè™Ÿå¿…é ˆåŒ…å«: <span class="status-led ${x.slope <= FILTER.SLP ? 'active' : ''}">SLP</span>
    // ...ä»¥æ­¤é¡æ¨
</script>
</body>
</html>
